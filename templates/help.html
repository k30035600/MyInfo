<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>도움말 - 금융거래 통합정보</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Malgun Gothic', '맑은 고딕', sans-serif; background-color: #f5f5f5; padding: 20px; }
        .container { max-width: 1920px; margin: 0 auto; background: white; border-radius: 10px; padding: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #333; margin-bottom: 30px; font-size: 2em; }
        h2 { color: #667eea; margin-top: 30px; margin-bottom: 15px; font-size: 1.5em; border-bottom: 2px solid #667eea; padding-bottom: 10px; }
        h3 { color: #555; margin-top: 20px; margin-bottom: 10px; font-size: 1.2em; }
        h4 { color: #444; margin-top: 14px; margin-bottom: 8px; font-size: 1.05em; }
        .help-section { margin-bottom: 30px; }
        .help-section p { line-height: 1.8; color: #666; margin-bottom: 10px; }
        .help-section ul, .help-section ol { margin-left: 20px; margin-bottom: 15px; }
        .help-section li { line-height: 1.8; color: #666; margin-bottom: 5px; }
        .code-block { background: #f8f9fa; border-left: 4px solid #667eea; padding: 15px; margin: 15px 0; border-radius: 4px; font-family: 'Courier New', monospace; overflow-x: auto; }
        .feature-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }
        .feature-card { background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #667eea; }
        .feature-card h4 { color: #667eea; margin-bottom: 10px; }
        .main-nav { display: flex; flex-wrap: wrap; gap: 5px; padding: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); max-width: 1920px; margin-left: auto; margin-right: auto; }
        .nav-item { padding: 10px 15px; background: rgba(255,255,255,0.9); color: #333; text-decoration: none; border-radius: 5px; font-weight: bold; font-size: 14px; transition: all 0.3s ease; flex: 1; min-width: 120px; text-align: center; white-space: nowrap; }
        .nav-item:hover { background: rgba(255,255,255,1); transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        .nav-item.active { background: #FF9800; color: white; }
        .toc { background: #f0f4ff; padding: 20px; border-radius: 8px; margin-bottom: 25px; }
        .toc ul { list-style: none; margin-left: 0; }
        .toc a { color: #667eea; text-decoration: none; }
        .toc a:hover { text-decoration: underline; }
        .faq-item { margin-bottom: 12px; }
        .faq-q { font-weight: bold; color: #333; margin-bottom: 4px; }
        .faq-a { color: #666; margin-left: 12px; }
        @media (max-width: 768px) { .container { padding: 20px; } h1 { font-size: 1.5em; } h2 { font-size: 1.3em; } .feature-list { grid-template-columns: 1fr; } .main-nav { gap: 3px; padding: 8px; } .nav-item { font-size: 11px; padding: 6px 8px; min-width: 80px; flex: 1 1 calc(50% - 3px); } }
    </style>
</head>
<body>
    <nav class="main-nav">
        <a href="/" class="nav-item">🏠 홈</a>
        <a href="/bank/" class="nav-item">🏦 은행거래 전처리</a>
        <a href="/bank/category" class="nav-item">🏷️ 은행거래 카테고리</a>
        <a href="/bank/analysis/basic" class="nav-item">📊 은행거래 기본분석</a>
        <a href="/bank/help" class="nav-item">❓ 은행거래 도움말</a>
        <a href="/cash/" class="nav-item">📋 금융정보 전처리</a>
        <a href="/cash/category" class="nav-item">🏷️ 금융정보 카테고리</a>
        <a href="/cash/analysis/basic" class="nav-item">📊 금융정보 기본분석</a>
        <a href="/cash/help" class="nav-item">❓ 금융정보 도움말</a>
        <a href="/card/" class="nav-item">💳 신용카드 전처리</a>
        <a href="/card/category" class="nav-item">🏷️ 신용카드 카테고리</a>
        <a href="/card/analysis/basic" class="nav-item">📊 신용카드 기본분석</a>
        <a href="/help" class="nav-item active">❓ 금융정보 보고서</a>
    </nav>
    <div class="container">
        <h1>❓ 도움말 - 금융거래 통합정보</h1>

        <div class="help-section toc">
            <h2>목차</h2>
            <ul>
                <li><a href="#overview">1. 개요</a></li>
                <li><a href="#system">2. 시스템 구성</a></li>
                <li><a href="#run">3. 서버 실행 방법</a></li>
                <li><a href="#folders">4. 프로젝트 폴더 구조</a></li>
                <li><a href="#workflow">5. 권장 사용 흐름</a></li>
                <li><a href="#features">6. 주요 기능 상세</a></li>
                <li><a href="#services">7. 서비스별 요약 (MyBank / MyCard / MyCash)</a></li>
                <li><a href="#pages">8. 페이지별 기능 상세</a></li>
                <li><a href="#troubleshoot">9. 문제 해결</a></li>
                <li><a href="#faq">10. 자주 묻는 질문 (FAQ)</a></li>
                <li><a href="#risk">11. 금융정보 위험도분류(1~8호)</a></li>
                <li><a href="#urls">12. 접속 주소 목록</a></li>
            </ul>
        </div>

        <div class="help-section" id="overview">
            <h2>1. 개요</h2>
            <p>금융거래 통합정보(MyInfo)는 <strong>은행거래 통합정보(MyBank)</strong>, <strong>신용카드 통합정보(MyCard)</strong>, <strong>금융정보 종합분석(MyCash)</strong> 세 서비스를 한곳에서 제공하는 웹 기반 시스템입니다. 은행·신용카드 거래 내역을 전처리, 카테고리 분류, 위험도 분류, 기본·고급 분석을 통해 통합 관리하고 종합 분석할 수 있습니다.</p>
            <h3>1.1 공통 사용 순서</h3>
            <ol>
                <li><strong>전처리</strong>: 원본 엑셀(.xls/.xlsx)을 표준 형식으로 변환하여 *_before.xlsx 생성.</li>
                <li><strong>카테고리 분류</strong>: 키워드 기반 규칙(category_table.json)으로 거래를 분류하고 *_after.xlsx(또는 cash_after.json) 생성.</li>
                <li><strong>분석</strong>: 기본분석·고급분석 페이지에서 통계, 차트, 필터·출력으로 결과 확인.</li>
            </ol>
            <h3>1.2 데이터·파일 위치</h3>
            <ul>
                <li><strong>원본(클라이언트용)</strong>: <code>MyInfo/.source/Bank</code>(은행·금융), <code>MyInfo/.source/Card</code>(카드). xls/xlsx만 사용하며 Git에는 포함하지 않습니다.</li>
                <li><strong>전처리 결과</strong>: <code>MyInfo/.source</code> 또는 각 앱 폴더에 bank_before, card_before 등. 금융정보(cash)는 bank_after + card_after를 병합한 <strong>cash_after.json</strong>을 <code>MyCash/</code>에서 사용합니다.</li>
                <li><strong>카테고리 규칙</strong>: <code>MyInfo/.source/category_table.json</code>(은행·신용카드·금융정보 공통). 분류·키워드·카테고리 컬럼만 사용합니다.</li>
                <li><strong>금융정보 업종/위험도 매칭</strong>: <code>MyInfo/.source/linkage_table.json</code>. cash_after 생성 시 위험도키워드→위험도분류·위험도 매칭에 사용됩니다.</li>
            </ul>
        </div>

        <div class="help-section" id="system">
            <h2>2. 시스템 구성</h2>
            <ul>
                <li><strong>통합 서버 (app.py)</strong>: 홈페이지(/)와 이 도움말(/help)을 제공하며, /bank/*, /card/*, /cash/* 요청을 각각 MyBank·MyCard·MyCash 서브 앱으로 전달합니다.</li>
                <li><strong>은행거래 통합정보 (MyBank)</strong>: URL 접두사 /bank/. 전처리(/bank/), 카테고리(/bank/category), 기본분석(/bank/analysis/basic), 은행거래 도움말(/bank/help). 은행 거래만 대상으로 합니다.</li>
                <li><strong>신용카드 통합정보 (MyCard)</strong>: URL 접두사 /card/. 전처리(/card/), 카테고리(/card/category), 기본분석(/card/analysis/basic), 신용카드 도움말(/card/help). 신용카드 거래만 대상으로 합니다.</li>
                <li><strong>금융정보 종합분석 (MyCash)</strong>: URL 접두사 /cash/. 전처리(/cash/), 카테고리(/cash/category), 기본분석(/cash/analysis/basic), 금융정보 도움말(/cash/help). 은행·신용카드 거래를 하나로 모아 통합 관리·종합 분석합니다.</li>
            </ul>
        </div>

        <div class="help-section" id="run">
            <h2>3. 서버 실행 방법</h2>
            <p>프로젝트 루트(MyInfo 폴더)에서 다음 중 하나를 실행하세요.</p>
            <div class="code-block">cd MyInfo 프로젝트 경로
python app.py
또는
py app.py</div>
            <p><strong>Windows</strong>: <code>start-server.bat</code> 또는 <code>start-server.ps1</code>(PowerShell)을 실행하면 UTF-8 설정 후 서버가 기동됩니다. 최초 실행 시 필요한 패키지(pandas, openpyxl, flask, waitress 등)가 pip으로 설치될 수 있습니다.</p>
            <p><strong>기본 주소</strong>: 환경 변수 PORT가 없으면 <strong>http://localhost:8080</strong>에서 접속합니다. Railway/Heroku 등 클라우드에서는 PORT가 주입되며 0.0.0.0으로 바인딩됩니다. 서버 종료는 터미널에서 <strong>Ctrl+C</strong>입니다.</p>
        </div>

        <div class="help-section" id="folders">
            <h2>4. 프로젝트 폴더 구조</h2>
            <h3>4.1 루트(MyInfo)</h3>
            <p>app.py(통합 서버), start-server.bat, start-server.ps1, requirements.txt, VERSION. <code>templates/</code>에는 메인 홈(index.html), 도움말(help.html), 404 페이지 등이 있습니다.</p>
            <h3>4.2 원본·규칙(.source)</h3>
            <ul>
                <li><strong>.source/Bank</strong>: 은행·금융 원본 .xls/.xlsx(클라이언트 업로드용). 파일명에 은행명(국민은행, 신한은행, 하나은행 등)이 포함되어야 인식됩니다.</li>
                <li><strong>.source/Card</strong>: 신용카드 원본 .xls/.xlsx. 파일명 형식 <code>카드사_기타.xlsx</code>(예: 신한카드_김찬식_2024.xlsx).</li>
                <li><strong>.source/category_table.json</strong>: 은행·신용카드·금융정보 공통 카테고리 규칙(분류, 키워드, 카테고리). 전처리/후처리/계정과목 등 분류만 사용합니다.</li>
                <li><strong>.source/linkage_table.json</strong>: 금융정보(cash_after)용 업종코드→위험도분류·위험도 매핑. xlsx가 있으면 json으로 변환해 사용합니다.</li>
            </ul>
            <h3>4.3 앱별 폴더</h3>
            <ul>
                <li><strong>MyBank</strong>: bank_app.py, process_bank_data.py, templates/. 은행 거래만 처리. .source에 bank_before, bank_after 등이 생성됩니다.</li>
                <li><strong>MyCard</strong>: card_app.py, process_card_data.py, templates/. 신용카드만 처리. .source에 card_before, card_after 등.</li>
                <li><strong>MyCash</strong>: cash_app.py, process_cash_data.py, risk_indicators.py, templates/. 은행(bank_after)과 신용카드(card_after)를 병합하여 <strong>cash_after.json</strong>을 생성·저장합니다. 위험도 1~8호 적용은 risk_indicators.py에서 수행합니다.</li>
            </ul>
        </div>

        <div class="help-section" id="workflow">
            <h2>5. 권장 사용 흐름</h2>
            <h3>5.1 1단계: 전처리</h3>
            <p>은행·금융 원본은 <strong>MyInfo/.source/Bank</strong>에, 카드 원본은 <strong>MyInfo/.source/Card</strong>에 넣습니다. 파일명에 은행명(국민은행, 신한은행, 하나은행) 또는 카드사명이 포함되어야 인식됩니다. 각 서비스(은행/카드/금융정보) 전처리 페이지에서 "전처리 실행"을 클릭하면 해당 *_before.xlsx가 생성·갱신됩니다.</p>
            <h3>5.2 2단계: 카테고리</h3>
            <p>카테고리 페이지에서 "카테고리 생성"으로 <strong>category_table.json</strong> 규칙을 만든 뒤, 필요 시 분류·키워드·카테고리를 추가·수정합니다. "카테고리 적용"을 실행하면 *_after.xlsx(은행/카드) 또는 금융정보의 경우 cash_after 생성(병합) 시 카테고리가 반영됩니다.</p>
            <h3>5.3 3단계: 금융정보에서 cash_after 생성(병합)</h3>
            <p>금융정보 전처리 페이지에서 <strong>cash_after 생성(병합)</strong>을 실행하면, bank_after와 card_after를 합쳐 <strong>MyCash/cash_after.json</strong>이 생성됩니다. 이때 linkage_table 매칭과 1~8호 위험도 지표가 자동 적용됩니다. 금융정보 카테고리 페이지의 "금융정보(위험도분류) 적용후" 테이블은 이 cash_after.json을 사용합니다.</p>
            <h3>5.4 4단계: 분석</h3>
            <p>기본분석 페이지에서 전체 통계, 적요/가맹점별·월별·은행/카드사별 집계, 차트를 확인합니다. 상단 "은행명" 또는 "카드사" 필터와 "📄 출력" 버튼으로 인쇄용 뷰를 만들 수 있습니다.</p>
        </div>

        <div class="help-section" id="features">
            <h2>6. 주요 기능 상세</h2>
            <div class="feature-list">
                <div class="feature-card"><h4>📊 전처리</h4><p>여러 은행·카드사의 거래 내역을 하나의 표준 형식으로 통합합니다. .source/Bank 또는 .source/Card의 .xls/.xlsx를 읽어 bank_before(은행), card_before(카드) 등을 생성합니다. 은행: 거래일·적요·입출금·은행명·계좌 등, 카드: 이용일·가맹점명·이용금액·카드사 등으로 컬럼이 통일됩니다. 금융정보는 별도 cash_before 대신 bank_after+card_after 병합으로 cash_after를 만듭니다.</p></div>
                <div class="feature-card"><h4>🏷️ 카테고리</h4><p>키워드 기반 자동 분류로 거래를 카테고리별로 정리합니다. category_table.json의 분류(전처리, 후처리, 계정과목)와 키워드→카테고리 매핑을 관리하고, "카테고리 적용" 시 *_after를 생성합니다. 은행·신용카드는 <strong>전처리 → 계정과목(은행: before_text, 카드: 가맹점명) → 후처리</strong> 순 적용. 상세: <a href="/bank/help">은행거래 도움말</a>, <a href="/card/help">신용카드 도움말</a>.</p></div>
                <div class="feature-card"><h4>⚠️ 위험도분류(금융정보)</h4><p>cash_after 생성 시 1~8호 지표(자료소명·비정형·투기성·사기파산·가상자산·자산은닉·과소비·사행성)를 순차 적용합니다. 각 행의 위험도키워드·위험도분류·위험도가 저장되며, 기본 위험도는 0.1입니다. 자세한 내용은 <a href="#risk">11. 금융정보 위험도분류</a>를 참고하세요.</p></div>
                <div class="feature-card"><h4>📈 기본분석</h4><p>전체 통계, 입출금 추이, 적요/가맹점별·월별·은행/계좌별 또는 카드사/카드별 집계, 막대·파이 차트를 제공합니다. 페이지 상단 필터(은행명·카드사·년월 등)와 "📄 출력" 버튼으로 범위 지정 및 인쇄용 새 창을 띄울 수 있습니다.</p></div>
            </div>
        </div>

        <div class="help-section" id="services">
            <h2>7. 서비스별 요약</h2>
            <h3>은행거래 통합정보 (MyBank)</h3>
            <p>지원 은행: <strong>국민은행, 신한은행, 하나은행</strong>. 파일명에 은행명이 포함되어야 인식합니다. 전처리 결과는 <strong>bank_before.xlsx</strong>, 카테고리 규칙은 <strong>category_table.json</strong>(은행·카드·금융정보 공통), 카테고리 적용 후 최종 데이터는 <strong>bank_after.xlsx</strong>입니다. 카테고리 분류는 <strong>전처리(적요·내용·송금메모·거래점 치환) → 계정과목(before_text 키워드 매칭) → 후처리(적요·내용·송금메모 치환)</strong> 순으로 적용됩니다. <strong>카테고리 분류 상세</strong>는 <a href="/bank/help">은행거래 도움말</a>을 참고하세요.</p>
            <h3>금융정보 종합분석 (MyCash)</h3>
            <p>은행·신용카드 거래를 하나로 모아 통합 관리합니다. bank_after + card_after 병합으로 <strong>cash_after.json</strong>을 생성하며, 이때 <strong>1~8호 위험도 지표</strong>가 자동 적용됩니다. 기본 위험도 0.1, 자료소명·비정형·투기성·사기파산·가상자산·자산은닉·과소비·사행성 순으로 매칭됩니다. <strong>위험도 분류 상세(검색 텍스트, 호별 키워드, 위험도키워드 저장 방식)</strong>는 <a href="/cash/help">금융정보 도움말</a>을 참고하세요.</p>
            <h3>신용카드 통합정보 (MyCard)</h3>
            <p>지원 카드사: <strong>국민카드, 신한카드, 현대카드, 하나카드</strong>. 파일명 형식은 <code>카드사_기타.xlsx</code>(예: 신한카드_김찬식_2024.xlsx)이며, 첫 번째 밑줄 앞이 카드사명으로 사용됩니다. 전처리 결과는 <strong>card_before</strong>, 카테고리 규칙은 <strong>category_table.json</strong>, 카테고리 적용 후 최종 데이터는 <strong>card_after</strong>입니다. 카테고리 분류는 <strong>전처리(가맹점명·카드사 치환) → 계정과목(가맹점명 키워드 매칭) → 후처리(가맹점명·카드사 치환)</strong> 순으로 적용됩니다. <strong>카테고리 분류 상세</strong>는 <a href="/card/help">신용카드 도움말</a>을 참고하세요.</p>
        </div>

        <div class="help-section" id="pages">
            <h2>8. 페이지별 기능 상세</h2>
            <h3>은행거래 전처리 (/bank/)</h3>
            <ul><li>.source/Bank에 .xls/.xlsx를 넣고 "전처리 실행"을 클릭합니다. 파일명에 은행명(국민은행, 신한은행, 하나은행)이 포함되어야 합니다.</li><li>전처리 전·후 데이터를 테이블로 비교할 수 있으며, <strong>은행</strong>, <strong>년·월</strong> 필터로 범위를 줄일 수 있습니다.</li></ul>
            <h3>은행거래 카테고리 (/bank/category)</h3>
            <ul><li>카테고리 테이블(분류, 키워드, 카테고리)을 추가·수정·삭제로 관리합니다. "카테고리 생성"으로 bank_before 기준 규칙을 자동 생성하고, "카테고리 적용"으로 bank_after를 갱신합니다.</li></ul>
            <h3>은행거래 기본분석 (/bank/analysis/basic)</h3>
            <ul><li>전체 통계, 적요별·월별·은행/계좌별 분석, 차트를 제공합니다. "은행명" 필터와 "📄 출력"으로 인쇄용 뷰를 만들 수 있습니다.</li></ul>
            <h3>금융정보 전처리 (/cash/)</h3>
            <ul><li>이 페이지에 진입하면 기존 <strong>cash_after.json</strong>이 삭제됩니다. 은행·카드 전처리를 먼저 진행한 뒤, "cash_after 생성(병합)"을 실행하면 bank_after와 card_after가 병합되어 MyCash/cash_after.json이 생성되고 1~8호 위험도가 적용됩니다.</li><li>전처리 전(은행)·전처리 후(신용카드) 테이블과 금융정보(카테고리) 조회·그래프를 한 화면에서 볼 수 있습니다.</li></ul>
            <h3>금융정보 카테고리 (/cash/category)</h3>
            <ul><li>카테고리 정의 테이블과 <strong>금융정보(위험도분류) 적용후</strong> 테이블을 제공합니다. 적용후 테이블은 cash_after.json 데이터를 위험도·위험도키워드·거래일·거래시간 내림차순으로 정렬하며, 헤더(컬럼명·필터 행)는 스크롤 시 고정됩니다.</li><li>위험도키워드·위험도분류·위험도 컬럼의 드롭다운은 테이블에 실제로 존재하는 값만 표시됩니다. "📄 출력"으로 인쇄용 창을 띄울 수 있습니다.</li></ul>
            <h3>금융정보 기본분석 (/cash/analysis/basic)</h3>
            <ul><li>cash_after 기준 전체 통계, 카테고리별·월별·금융사별 집계, 차트를 제공합니다.</li></ul>
            <h3>신용카드 전처리 (/card/)</h3>
            <ul><li>.source/Card에 .xls/.xlsx를 넣고 "전처리 실행"을 클릭합니다. 파일명 형식은 <code>카드사_기타.xlsx</code>(예: 신한카드_김찬식_2024.xlsx). 전처리 전·후 데이터 비교, <strong>카드사</strong>, <strong>년·월</strong> 필터를 사용할 수 있습니다.</li></ul>
            <h3>신용카드 카테고리 (/card/category)</h3>
            <ul><li>카테고리 테이블을 관리하고, "카테고리 생성" → "카테고리 적용"으로 card_after를 갱신합니다. "카드사" 필터와 "📄 출력" 버튼을 사용할 수 있습니다.</li></ul>
            <h3>신용카드 기본분석 (/card/analysis/basic)</h3>
            <ul><li>전체 통계, 가맹점별·월별·카드사별 분석, 차트를 제공합니다. "카드사" 필터와 "📄 출력"으로 범위 지정 및 인쇄가 가능합니다.</li></ul>
        </div>

        <div class="help-section" id="troubleshoot">
            <h2>9. 문제 해결</h2>
            <h3>9.1 404 또는 페이지를 찾을 수 없음</h3>
            <ul><li>서버를 방금 시작했다면 은행/신용카드/금융정보 서브 앱이 로드될 때까지 잠시 후 새로고침해 보세요.</li><li>프로젝트가 OneDrive 등 동기화 폴더에 있으면 파일 읽기 오류로 일부 경로가 404가 될 수 있습니다. 오류 페이지 안내를 참고하고, 필요 시 프로젝트를 동기화가 완료된 로컬 경로로 옮기거나, <strong>한글이 없는 경로</strong>(예: C:\CursorWorkspace)를 사용하세요. readme(삭제하지 말것)의 <strong>한글_깨짐_Add-Content_오류.md</strong>를 참고하세요.</li></ul>
            <h3>9.2 서버 연결 오류</h3>
            <ul><li>서버가 실행 중인지 확인하세요. 기본 포트는 8080(또는 환경 변수 PORT)입니다. 다른 프로그램이 해당 포트를 사용 중이면 포트를 바꾸거나 해당 프로그램을 종료하세요.</li><li>방화벽에서 localhost 접속이 허용되는지 확인하세요.</li><li>Windows에서 한글 경로(사용자명·TEMP 등) 때문에 터미널/스크립트 오류가 나면 readme의 <strong>start-cursor-no-hangul.ps1</strong> 실행 후 C:\CursorWorkspace에서 작업하는 것을 권장합니다.</li></ul>
            <h3>9.3 데이터가 표시되지 않음</h3>
            <ul><li>.source/Bank 또는 .source/Card에 .xls/.xlsx가 있고, 파일명에 은행명(국민은행, 신한은행, 하나은행) 또는 카드사명이 포함되는지 확인하세요.</li><li>전처리 후 bank_before, card_before 등이 생성되었는지 확인하세요. 해당 파일을 Excel에서 열어두면 읽기·쓰기 실패할 수 있으니 닫고 다시 시도하세요.</li><li>금융정보 카테고리에서 "데이터가 없습니다"가 나오면 cash_after.json이 없는 상태입니다. 금융정보 전처리 페이지에서 "cash_after 생성(병합)"을 실행하세요.</li><li>브라우저 F12 → Console에서 JavaScript 오류, Network 탭에서 API 실패(4xx/5xx)를 확인하세요.</li></ul>
            <h3>9.4 카테고리·위험도가 적용되지 않음</h3>
            <ul><li>.source/category_table.json이 있는지, "카테고리 생성"을 먼저 실행했는지 확인하세요.</li><li>*_after 파일을 Excel에서 열어두지 말고, "카테고리 적용" 또는 "cash_after 생성(병합)"을 다시 실행하세요.</li><li>위험도가 모두 0.1로 나오면 1~8호 조건에 맞는 거래가 없거나, cash_after가 예전 규칙으로 생성된 것일 수 있습니다. cash_after를 다시 생성(병합)하면 최신 위험도 규칙이 적용됩니다.</li></ul>
        </div>

        <div class="help-section" id="faq">
            <h2>10. 자주 묻는 질문 (FAQ)</h2>
            <div class="faq-item"><div class="faq-q">Q. MyBank와 MyCash의 차이는?</div><div class="faq-a">MyBank는 은행 거래만 다루고, MyCash는 은행·신용카드 거래를 하나로 모아 통합 관리·종합 분석합니다. 데이터 파일도 bank_* vs cash_*로 구분됩니다.</div></div>
            <div class="faq-item"><div class="faq-q">Q. 전처리 후에도 테이블이 비어요.</div><div class="faq-a">MyInfo/.source/Bank 또는 .source/Card의 파일명에 은행명(국민은행, 신한은행, 하나은행) 또는 카드사명이 포함되어 있는지 확인하세요. Excel에서 해당 파일을 닫은 뒤 전처리를 다시 실행해 보세요.</div></div>
            <div class="faq-item"><div class="faq-q">Q. 카테고리 적용이 안 돼요.</div><div class="faq-a">*_after.xlsx를 Excel 등에서 열어두지 마세요. "카테고리 생성"을 먼저 실행한 뒤 "카테고리 적용"을 실행하세요.</div></div>
            <div class="faq-item"><div class="faq-q">Q. 포트 번호를 바꾸고 싶어요.</div><div class="faq-a">환경 변수 PORT를 설정하면 해당 포트로 서버가 기동됩니다. 예: Windows에서 <code>set PORT=9000</code> 후 python app.py</div></div>
            <div class="faq-item"><div class="faq-q">Q. 금융정보에서 cash_after가 안 보여요.</div><div class="faq-a">금융정보 메뉴에 들어갈 때마다 cash_after.json이 삭제되도록 설정되어 있습니다. "cash_after 생성(병합)" 버튼을 눌러 bank_after+card_after를 병합한 뒤 위험도가 적용된 데이터를 다시 생성하세요.</div></div>
            <div class="faq-item"><div class="faq-q">Q. 위험도키워드에 지표명(비정형지표 등)이 들어가요.</div><div class="faq-a">1·2호는 해당 행의 키워드(또는 기타거래) 값을 위험도키워드에 저장하고, 3~8호는 매칭된 키워드(증권, 대부 등)를 저장합니다. 예전에 생성된 cash_after는 재생성(병합)하면 새 규칙이 반영됩니다.</div></div>
        </div>

        <div class="help-section" id="risk">
            <h2>11. 금융정보 위험도분류(1~8호)</h2>
            <p>금융정보(cash_after) 생성 시 <strong>1호부터 8호</strong>까지 순서대로 위험도 지표가 적용됩니다. 모든 행의 기본 위험도는 <strong>0.1</strong>이며, 조건에 맞는 행에만 위험도키워드·위험도분류·위험도가 설정됩니다. 나중 호수가 이전 호수를 덮어씁니다.</p>
            <h3>11.1 적용 순서 및 저장 컬럼</h3>
            <ul>
                <li><strong>위험도키워드</strong>: 1·2호는 해당 행의 키워드(또는 기타거래) 값, 3~8호는 매칭된 키워드(증권, 대부, 업비트 등)를 저장합니다.</li>
                <li><strong>위험도분류</strong>: 1~8호 지표명(자료소명지표, 비정형지표, 투기성지표, 사기파산지표, 가상자산지표, 자산은닉지표, 과소비지표, 사행성지표).</li>
                <li><strong>위험도</strong>: 0.1 ~ 5.0 숫자. 최소 0.1이 보장됩니다.</li>
            </ul>
            <h3>11.2 1~8호 지표 요약</h3>
            <ul>
                <li><strong>1호 자료소명지표 (1.0)</strong>: 출금 1000만원 이상인 행. 해당 행의 키워드(또는 기타거래)를 위험도키워드에 저장.</li>
                <li><strong>2호 비정형지표 (1.5)</strong>: 출금만존재, 100만원 이상, 5회 이상 (특정인=키워드 기준). 해당 키워드를 위험도키워드에 저장.</li>
                <li><strong>3호 투기성지표 (2.0)</strong>: 입출금 50만원 이상 + (카테고리+키워드)+기타거래에 증권·선물·자산운용·위탁·증권입금 포함. 단 "하나증권금융센터"는 제외.</li>
                <li><strong>4호 사기파산지표 (2.5)</strong>: 입출금 50만원 이상 + 대부·P2P·카드깡·원리금 등.</li>
                <li><strong>5호 가상자산지표 (3.0)</strong>: 입출금 50만원 이상 + 카테고리 "가상자산" 또는 업비트·빗썸·코인원·코빗 등.</li>
                <li><strong>6호 자산은닉지표 (3.5)</strong>: 출금만 50만원 이상 + 해외송금·Wise·SWIFT 등.</li>
                <li><strong>7호 과소비지표 (4.0)</strong>: 출금만 30만원 이상 + 백화점·명품·귀금속·유흥 등.</li>
                <li><strong>8호 사행성지표 (5.0)</strong>: 출금만 10만원 이상 + 경마·복권·도박·휴게텔·안마·마사지 등.</li>
            </ul>
            <p>2~8호 매칭 시 검색 텍스트는 <strong>(카테고리+키워드)+기타거래</strong>를 사용하며, 공백 기준 동일 단어는 제거됩니다. 적용 전에 데이터는 카테고리·키워드·거래일 올림차순으로 정렬된 뒤 진행됩니다. <strong>호별 상세 키워드 목록, 위험도키워드 저장 방식, 고위험 보정 등 전체 상세</strong>는 <a href="/cash/help#risk">금융정보 도움말 §4 위험도분류</a>를 참고하세요. 구현: <code>MyCash/risk_indicators.py</code>, 문서: readme(삭제하지 말것) 폴더의 금융정보_위험도_지표_매칭_가이드.md 등.</p>
        </div>

        <div class="help-section" id="urls">
            <h2>12. 접속 주소 목록</h2>
            <p>기본 포트는 <strong>8080</strong>(환경 변수 PORT 미설정 시)입니다. 아래에서 <code>8080</code>을 실제 사용 포트로 바꿔 접속하세요.</p>
            <ul>
                <li><strong>홈페이지:</strong> http://localhost:8080/</li>
                <li><strong>금융거래 통합 도움말(본 페이지):</strong> http://localhost:8080/help</li>
                <li><strong>은행거래 전처리:</strong> http://localhost:8080/bank/</li>
                <li><strong>은행거래 카테고리:</strong> http://localhost:8080/bank/category</li>
                <li><strong>은행거래 기본분석:</strong> http://localhost:8080/bank/analysis/basic</li>
                <li><strong>은행거래 도움말:</strong> http://localhost:8080/bank/help</li>
                <li><strong>금융정보 전처리:</strong> http://localhost:8080/cash/</li>
                <li><strong>금융정보 카테고리:</strong> http://localhost:8080/cash/category</li>
                <li><strong>금융정보 기본분석:</strong> http://localhost:8080/cash/analysis/basic</li>
                <li><strong>금융정보 도움말:</strong> http://localhost:8080/cash/help</li>
                <li><strong>신용카드 전처리:</strong> http://localhost:8080/card/</li>
                <li><strong>신용카드 카테고리:</strong> http://localhost:8080/card/category</li>
                <li><strong>신용카드 기본분석:</strong> http://localhost:8080/card/analysis/basic</li>
                <li><strong>신용카드 도움말:</strong> http://localhost:8080/card/help</li>
            </ul>
        </div>
    </div>
</body>
</html>
