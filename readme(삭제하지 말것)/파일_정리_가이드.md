# MyInfo 파일 정리 가이드

유지보수·일회성 정리 방안과, 코드 실행에 직접 관여하지 않지만 참고용으로 두는 항목을 정리한 문서입니다.

---

## 1. 프로젝트 파일 구조 (유지보수용)

### 실행에 필수인 파일

| 경로 | 역할 |
|------|------|
| `app.py` | 통합 Flask 앱. MyBank·MyCard·MyCash 서브앱 등록. |
| `start_web.py` | Railway 등 배포 시 진입점. `Procfile`: `web: python start_web.py` |
| `MyBank/bank_app.py`, `MyBank/process_bank_data.py` | 은행 거래 통합·전처리·후처리·bank_after 생성 |
| `MyCard/card_app.py`, `MyCard/process_card_data.py` | 카드 거래 통합·전처리·후처리·card_after 생성 |
| `MyCash/cash_app.py`, `MyCash/process_cash_data.py` | 금융정보 종합·cash_after 생성 |
| `category_table_io.py` | category_table.json 읽기/쓰기·내보내기 |
| `category_table_defaults.py`, `category_constants.py` | 카테고리 기본값·상수 |
| `category_table_fallback.py` | category_table_io 로드 실패 시 폴백 |
| `linkage_table_io.py` | 연계 테이블 JSON (필요 시) |
| `templates/` | 루트 공통 템플릿 (index, help 등) |

### 설정·배포 (실행에는 간접 관여)

| 경로 | 역할 |
|------|------|
| `requirements.txt`, `runtime.txt` | Python 의존성·버전 |
| `Procfile`, `Dockerfile`, `nixpacks.toml` | Railway 등 빌드·실행 방식 |
| `VERSION` | 버전 문자열 (app에서 읽음) |

### 실행에 불필요·유틸/일회성

| 경로 | 역할 | 비고 |
|------|------|------|
| `run_full_flow.py` | 은행 ensure → 카드/캐시 로드 → 서버 기동 | 로컬에서 "전체 수행" 검증용. 삭제해도 앱 실행에는 영향 없음. |
| `export_category_table_to_xlsx.py` | category_table.json → xlsx 내보내기 | 복구/백업용. `category_table_io.export_category_table_to_xlsx()` 호출 스크립트. |
| `add_virtual_asset_category.py` | 가상자산 회사 목록을 category_table.json에 추가 | 일회성 데이터 보강. 한 번 실행 후 재실행 시 중복 제거됨. |
| `setup-git-utf8.ps1` | Git 한글 커밋 인코딩 설정 | 로컬 1회 실행 권장. |
| `create-workspace-junction.ps1` | 한글 경로 회피용 C:\CursorWorkspace 정션 | Cursor 한글 경로 문제 시 사용. |
| `start-cursor-no-hangul.ps1` | TEMP 한글 제거 후 Cursor 실행 | Cursor 인코딩 오류 시 사용. |
| `start-server.ps1`, `start-server.bat`, `서버시작.bat` | 로컬 서버 기동 편의 스크립트 | `python app.py`와 동일. |

---

## 2. 일회성 코드 정리 방안

- **정리 시점**: 기능 추가/배포가 안정된 뒤 한 번만 수행하면 됨.
- **권장 순서**:
  1. **불필요 파일 제거**: 루트의 임시 메시지 파일(`msg*.txt`, `commit_msg*.txt`), 빈 폴더(`api/`, `image/` 등) 삭제. (본 가이드 반영 시 이미 제거됨.)
  2. **로그·임시 파일**: `run_full_flow.log` 등 `*.log`는 `.gitignore`에 포함되어 있으므로 커밋되지 않게 둠.
  3. **문서 정리**: 참고용 문서는 모두 `readme(삭제하지 말것)/`에만 두고, 루트에는 `README.md`만 유지.
  4. **유틸 스크립트**: `export_category_table_to_xlsx.py`, `add_virtual_asset_category.py`, `run_full_flow.py`는 삭제하지 않고 유지. 필요 시 위 표와 이 가이드를 참고해 역할만 파악하면 됨.
  5. **코드 내부**: 중복 함수·사용되지 않는 변수·과한 주석은 [코드_개선_조언.md](코드_개선_조언.md)에 따라 필요 시 단계적으로 정리.

---

## 3. 코드 실행에 직접 관여하지 않지만 필요한 것 (readme 보관)

- **문서**  
  - `readme(삭제하지 말것)/` 아래 모든 `.md`: Git·Railway·한글 경로·category_table 복구·코드 개선 조언·파일 정리 가이드 등.  
  - `금융_업종_API_참고.txt`: 업종코드·FIU·API·체크리스트 등 참고용. (구 `after_cash.xlsx를 생성하기전 업종코드가 데이터가 있.txt`를 이 이름으로 변경함.)
- **스크립트**  
  - `setup-git-utf8.ps1`, `create-workspace-junction.ps1`, `start-cursor-no-hangul.ps1`: 실행 필수는 아니나, 환경 이슈 시 사용.
- **배포 설정 설명**  
  - Git 호스팅·Railway 배포·Procfile·start_web.py 역할은 [Git_호스팅_가이드.md](Git_호스팅_가이드.md), [Railway_가입_배포_도메인.md](Railway_가입_배포_도메인.md)에 정리.

---

## 4. 삭제한 파일·폴더 (정리 시 반영)

| 항목 | 이유 |
|------|------|
| `msg.txt` | 커밋 메시지 등 임시용. `.gitignore`에 포함. |
| `commit_msg_utf8.txt` | 커밋 메시지 UTF-8용 임시 파일. `commit_msg_*.txt`로 이미 무시. |
| `run_full_flow.log` | 실행 로그. `*.log`로 무시·삭제 가능. |
| `api/` (빈 폴더) | 미사용. |
| `image/` (빈 폴더) | 미사용. |

readme 폴더 내 문서는 **삭제하지 않음** 원칙에 따라 제거 대상에서 제외합니다.
