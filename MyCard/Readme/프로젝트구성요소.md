# 프로젝트 구성 요소

## 📁 디렉토리 구조

```
FISTBANK/
├── Source/                          # 원본 은행 거래 내역 파일
│   ├── 국민은행_*.xls              # 국민은행 거래 내역 (5개)
│   ├── 신한은행_*.xls              # 신한은행 거래 내역 (5개)
│   └── 하나은행_*.xls              # 하나은행 거래 내역 (8개)
│
├── templates/                       # HTML 템플릿
│   └── index.html                  # 메인 웹 페이지
│
├── app.py                          # Flask 웹 애플리케이션 (백엔드)
├── integrate_bank_transactions.py  # 엑셀 파일 통합 스크립트
│
├── run_server_utf8.bat            # 서버 실행 배치 파일 (UTF-8)
├── run_server.bat                 # 서버 실행 배치 파일
├── start_flask.bat                # Flask 서버 실행 배치 파일
│
├── 은행거래_전처리_1차.xlsx       # 통합된 거래 내역 파일
├── 국민은행.xlsx                  # (참고 파일)
├── 신한은행.xlsx                  # (참고 파일)
├── 하나은행.xlsx                  # (참고 파일)
│
├── README.md                       # 프로젝트 설명서
├── README_SERVER.md               # 서버 실행 가이드
└── 서버확인.md                    # 서버 확인 가이드
```

## 🗂️ 주요 파일 설명

### 1. 백엔드 (Backend)

#### `app.py`
- **역할**: Flask 웹 서버
- **기능**:
  - 웹 페이지 렌더링 (`/`)
  - 원본 파일 목록 API (`/api/source-files`)
  - 원본 파일 데이터 API (`/api/source-data`)
  - 전처리된 데이터 API (`/api/processed-data`)
  - 필터링 (은행명, 년월일)
  - 입금합계/출금합계 계산
  - JSON 한글 인코딩 지원

#### `integrate_bank_transactions.py`
- **역할**: 엑셀 파일 통합 스크립트
- **기능**:
  - 국민은행, 신한은행, 하나은행 파일 읽기
  - 각 은행별 파일 형식 파싱
  - 표준 형식으로 데이터 변환
  - 거래일, 거래시간, 은행명, 계좌번호 순 정렬
  - 통합 파일 생성 (`은행거래_전처리_1차.xlsx`)

### 2. 프론트엔드 (Frontend)

#### `templates/index.html`
- **역할**: 웹 페이지 UI
- **구성**:
  - 좌측 박스: 처리전 데이터 (원본 파일)
  - 우측 박스: 처리후 데이터 (통합 파일)
  - 필터: 은행명, 년월일 선택
  - 집계 정보: 건수, 입금합계, 출금합계
  - 스크롤바 지원
  - 파일명, 시트명, 엑셀 자료 표시

### 3. 데이터 파일

#### `Source/` 폴더
- **내용**: 원본 은행 거래 내역 엑셀 파일
  - 국민은행: 5개 파일 (2021-2025)
  - 신한은행: 5개 파일 (2021-2025)
  - 하나은행: 8개 파일 (2022-2025, 계좌 2개)

#### `은행거래_전처리_1차.xlsx`
- **내용**: 통합된 거래 내역
- **정렬**: 거래일 → 거래시간 → 은행명 → 계좌번호
- **컬럼**: 13개 (은행명, 계좌번호, 거래일, 거래시간, 적요, 출금액, 입금액, 잔액, 거래점, 구분, 내용, 송금메모, 메모)

### 4. 실행 스크립트

#### `run_server_utf8.bat`
- **기능**: UTF-8 인코딩으로 Flask 서버 실행
- **사용법**: 더블클릭 또는 명령줄 실행

#### `run_server.bat`
- **기능**: Flask 서버 실행
- **사용법**: 더블클릭 또는 명령줄 실행

#### `start_flask.bat`
- **기능**: Flask 서버 실행 (대체 방법)

### 5. 문서 파일

#### `README.md`
- 프로젝트 설명 및 실행 방법

#### `README_SERVER.md`
- 서버 실행 가이드 및 한글 깨짐 해결 방법

#### `서버확인.md`
- 서버 상태 확인 방법

## 🔧 기술 스택

- **백엔드**: Python, Flask
- **데이터 처리**: pandas, openpyxl, xlrd, lxml
- **프론트엔드**: HTML, CSS, JavaScript
- **서버**: Flask 내장 웹 서버 (포트 5000)

## 📊 데이터 흐름

```
원본 파일 (Source/)
    ↓
integrate_bank_transactions.py
    ↓
은행거래_전처리_1차.xlsx
    ↓
app.py (Flask 서버)
    ↓
templates/index.html (웹 브라우저)
```

## 🎯 주요 기능

1. **데이터 통합**: 여러 은행의 거래 내역을 하나의 파일로 통합
2. **웹 인터페이스**: 처리전/처리후 데이터를 시각화
3. **필터링**: 은행명, 년월일로 데이터 필터링
4. **집계**: 건수, 입금합계, 출금합계 자동 계산
5. **스크롤바**: 데이터가 많을 때 스크롤 지원
